<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <link rel="stylesheet" href="/game.css"> -->
    <link rel="icon" href="../images/logo-02.svg" />
    <title>良耕野菜-小知識開始頁面</title>
    <link rel="icon" href="../images/logo-02.svg" />
    <link rel="stylesheet" href="../css/style.css" />
    <script src="../js/jquery-3.6.0.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
  </head>
  <body id="game_page" onload="ifMember()">
    <header class="header">
      <!-- 手機板header -->
      <div class="fixed_top"></div>
      <!-- 手機板header結束 -->
      <div class="menu_fixed"></div>
      <div class="menu">
        <div class="logo_img">
          <a href="./index.html">
            <img src="../images/logo.svg" alt="logo" />
          </a>
        </div>
        <div class="page_list">
          <a href="./event.html">農村體驗</a>
          <a href="./fruit_box.html">客製蔬果箱</a>
          <a class="on_page" href="./game.html">蔬果知識小遊戲</a>
          <a href="./aboutUs.html">關於我們</a>
          <a href="./q_a.html">問與答</a>
          <a href="./shopping_page.html">新鮮蔬果</a>
        </div>
      </div>
      <div class="title">
        <div class="title_btn">
          <button class="comm_us">
            聯絡我們 <img src="../images/cotact_us.svg" width="25px" alt="" />
          </button>
          <a class="buy_now" href="./shopping_page.html">
            立即買<img src="../images/buy_now.svg" width="25px" alt="" />
          </a>
        </div>
        <div class="title_pic">
          <img
            src="../images/member/member_01.jpg"
            alt="checkout_pic"
            style="padding-bottom: 100px"
          />
          <span class="bkc_black"></span>
          <h1>蔬果知識小遊戲</h1>
        </div>
      </div>

      <!-- 漢堡彈窗 -->
      <div class="jump_hamburger_block"></div>
      <!-- 漢堡彈窗結束 -->

      <!-- 聯絡我們彈窗 -->
      <div class="index_contact_box"></div>
      <!-- 聯絡我們彈窗結束 -->

      <!-- 購物車彈窗  -->
      <div class="cart_bk"></div>
      <div class="header_shopping_cart"></div>
      <!-- 購物車彈窗結束  -->

      <!-- 滾輪  -->
      <div class="scrollbar" id="style-6">
        <div class="force-overflow"></div>
      </div>
    </header>

    <div id="game_title">
      <h2 class="game_title">蔬果知識小遊戲</h2>
    </div>
    <!-- vue範圍開始 -->
    <section class="game_play_border" id="test_block">
      <div class="page1" v-show="page1show">
        <div id="game_decorate_testNumberCircle">
          <h1 id="inside_testNumber">開始</h1>
        </div>
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_1" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_2" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_3" />
        <div id="count">
          <h1>10秒</h1>
        </div>
        <div class="game_test">
          <img
            src="../images/game/game_img_Avocado.svg"
            alt=""
            id="game_test"
          />
        </div>
        <div id="game_question" class="animate__animated animate__bounceInDown">
          <h2>
            腦力激盪，測試蔬果知識!
            <br />5題答對才能挑戰扭蛋獲取購物金，準備好了嗎?
          </h2>
        </div>
        <div id="game_bottom_part">
          <button type="submit" id="submit" @click="show_Page2">
            遊戲開始
          </button>
          <img
            src="../images/game/game_img_Farmer.svg"
            alt=""
            class="decorate icon_11"
          />
        </div>
      </div>
      <!-- ===VUE第二頁第一題=== -->
      <div class="page2" V-show="page2show">
        <div id="game_decorate_testNumberCircle_2">
          <h1 id="inside_testNumber">1</h1>
        </div>
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_1" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_2" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_3" />
        <div id="count"><h1>{{time+"秒"}}</h1></div>
        <div class="game_test_2">
          <img src="../images/game/game_tomato.svg" alt="" id="game_test" />
        </div>
        <div id="game_question" class="animate__animated animate__bounceInDown">
          <h2>番茄最重要的營養素為?</h2>
        </div>
        <div id="game_bottom_part">
          <div id="game_answer">
            <button type="submit" id="submit_1" @click="show_Page3(20)">
              茄紅素
            </button>
            <button type="submit" id="submit_2" @click="show_Page3(0)">
              蛋白質
            </button>
          </div>
          <img
            src="../images/game/game_img_Farmer.svg"
            alt=""
            class="decorate icon_11"
          />
        </div>
      </div>
      <!-- ===VUE第三頁第二題=== -->
      <div class="page3" V-show="page3show">
        <div id="game_decorate_testNumberCircle_2">
          <h1 id="inside_testNumber">2</h1>
        </div>
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_1" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_2" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_3" />
        <div id="count"><h1>{{time+"秒"}}</h1></div>
        <div class="game_test_2">
          <img
            src="../images/game/game_img_cabage_real.svg"
            alt=""
            id="game_test"
          />
        </div>
        <div id="game_question" class="animate__animated animate__bounceInDown">
          <h2>為什麼同一品種的高麗菜有尖頭與平頭兩種外觀?</h2>
        </div>
        <div id="game_bottom_part">
          <div id="game_answer">
            <button type="submit" id="submit_1" @click="show_Page4(0)">
              運送過程<br />被擠壓到
            </button>
            <button type="submit" id="submit_2" @click="show_Page4(20)">
              溫度影響<br />花芽分化
            </button>
          </div>
          <img
            src="../images/game/game_img_Farmer.svg"
            alt=""
            class="decorate icon_11"
          />
        </div>
      </div>
      <!-- ===VUE第四頁第三題=== -->
      <div class="page4" V-show="page4show">
        <div id="game_decorate_testNumberCircle_2">
          <h1 id="inside_testNumber">3</h1>
        </div>
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_1" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_2" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_3" />
        <div id="count"><h1>{{time+"秒"}}</h1></div>
        <div class="game_test_2">
          <img src="../images/game/game_img_onion.svg" alt="" id="game_test" />
        </div>
        <div id="game_question" class="animate__animated animate__bounceInDown">
          <h2>洋蔥的種植方式為以下何者?</h2>
        </div>
        <div id="game_bottom_part">
          <div id="game_answer">
            <button type="submit" id="submit_1" @click="show_Page5(0)">
              水耕
            </button>
            <button type="submit" id="submit_2" @click="show_Page5(20)">
              土耕
            </button>
          </div>
          <img
            src="../images/game/game_img_Farmer.svg"
            alt=""
            class="decorate icon_11"
          />
        </div>
      </div>

      <!-- ===VUE第五頁第四題=== -->
      <div class="page5" V-show="page5show">
        <div id="game_decorate_testNumberCircle_2">
          <h1 id="inside_testNumber">4</h1>
        </div>
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_1" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_2" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_3" />
        <div id="count"><h1>{{time+"秒"}}</h1></div>
        <div class="game_test_2">
          <img src="../images/game/game_img_potato.svg" alt="" id="game_test" />
        </div>
        <div id="game_question" class="animate__animated animate__bounceInDown">
          <h2>本產馬鈴薯為一年幾獲?</h2>
        </div>
        <div id="game_bottom_part">
          <div id="game_answer">
            <button type="submit" id="submit_1" @click="show_Page6(20)">
              一年一穫
            </button>
            <button type="submit" id="submit_2" @click="show_Page6(0)">
              一年兩穫
            </button>
          </div>
          <img
            src="../images/game/game_img_Farmer.svg"
            alt=""
            class="decorate icon_11"
          />
        </div>
      </div>

      <!-- ===VUE第六頁第五題=== -->
      <div class="page6" V-show="page6show">
        <div id="game_decorate_testNumberCircle_2">
          <h1 id="inside_testNumber">5</h1>
        </div>
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_1" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_2" />
        <img src="../images/game/cabage_group.svg" alt="" class="game icon_3" />
        <div id="count"><h1>{{time+"秒"}}</h1></div>
        <div class="game_test_2">
          <img
            src="../images/game/game_img_whiteRadish.svg"
            alt=""
            id="game_test"
          />
        </div>
        <div id="game_question" class="animate__animated animate__bounceInDown">
          <h2>如何挑到好吃的白蘿蔔?</h2>
        </div>
        <div id="game_bottom_part">
          <div id="game_answer">
            <button type="submit" id="submit_1" @click="show_Page7(0)">
              底部根鬚很多的
            </button>
            <button type="submit" id="submit_2" @click="show_Page7(20)">
              聲音厚實、表皮硬
            </button>
          </div>
          <img
            src="../images/game/game_img_Farmer.svg"
            alt=""
            class="decorate icon_11"
          />
        </div>
      </div>
      <!-- 用js去寫換圖 -->
      <!-- button在外層直接換內層 -->
    </section>

    <!-- ==輪波圖== -->

    <section id="game_slideshow_step">
      <div id="game_slideshow">
        <img
          src="../images/game/game_scroll_1.png"
          class="game_slideshow"
          alt=""
        />
        <img
          src="../images/game/game_scroll_2.png"
          class="game_slideshow"
          alt=""
        />
        <img
          src="../images/game/game_scroll_3.png"
          class="game_slideshow"
          alt=""
        />
        <img
          src="../images/game/game_scroll_4.png"
          class="game_slideshow"
          alt=""
        />
        <img
          src="../images/game/game_scroll_5.png"
          class="game_slideshow"
          alt=""
        />
      </div>
    </section>

    <footer class="footer_bg">
      <div class="footer">
        <button class="go_top" id="go_top">
          <img src="../images/top.svg" alt="top" />
        </button>
        <div class="footer_logo">
          <a href="./index.html">
            <img src="../images/logo.svg" alt="logo" />
          </a>
        </div>
        <div class="footer_center">
          <h4>電話:02-26938800</h4>
          <h5>營業時間: 星期二至星期日(10:00 - 17:00)</h5>
          <h5>※農曆過年假期本農場也公休 網路接單為24小時</h5>
          <h5>※當日訂單最晚收到17:00</h5>
          <h5>(17:00後下單視為隔日下單)</h5>
          <div class="btn_pos">
            <button class="mail_btn">
              <img src="../images/mail.svg" alt="mail" />MAIL
            </button>
          </div>
          <div class="footer_icon">
            <img src="../images/icon-fb.svg" alt="fb" />
            <img src="../images/icon-line.svg" alt="line" />
            <img src="../images/icon-ig.svg" alt="ig" />
          </div>
        </div>
        <div class="footer_right">
          <div class="right_main">
            <a href="./index.html">首頁</a>
            <a href="./event.html">農村體驗</a>
            <a href="./game.html">蔬果知識小遊戲</a>
            <a href="./aboutUs.html">關於我們</a>
            <a href="./q_a.html">問與答</a>
          </div>
          <div class="right_buy">
            <a href="./fruit_box.html">客製蔬果箱</a>
            <a href="./shopping_page.html">蔬菜</a>
            <a href="./shopping_page.html">水果</a>
          </div>
        </div>
      </div>
    </footer>

    <script src="../js/right_nav_bar.js"></script>
    <script src="../js/shopping_cart.js"></script>
    <script src="../js/header.js"></script>
    <script>
      var test_block = new Vue({
        el: "#test_block",
        data: {
          page1show: true,
          page2show: false,
          page3show: false,
          page4show: false,
          page5show: false,
          page6show: false,
          currentshow: "",
          timer: null,
          time: 10,
          point: 0,
        },
        methods: {
          show_Page2() {
            this.page1show = false;
            this.page2show = true;
            this.page3show = false;
            this.page4show = false;
            this.page5show = false;
            this.page6show = false;
            this.time = 10;
            // this.point += grade;
            // console.log(typeof grade);
            //一開始沒有帶值，如果給他值會帶入object
            this.countdown();
          },
          show_Page3(grade) {
            this.page1show = false;
            this.page2show = false;
            this.page3show = true;
            this.page4show = false;
            this.page5show = false;
            this.page6show = false;
            this.time = 10;
            this.point = this.point + grade;
            console.log(this.point);
          },
          show_Page4(grade) {
            this.page1show = false;
            this.page2show = false;
            this.page3show = false;
            this.page4show = true;
            this.page5show = false;
            this.page6show = false;
            this.time = 10;
            this.point += grade;
            console.log(this.point);
          },
          show_Page5(grade) {
            this.page1show = false;
            this.page2show = false;
            this.page3show = false;
            this.page4show = false;
            this.page5show = true;
            this.page6show = false;
            this.time = 10;
            this.point += grade;
            console.log(this.point);
          },
          show_Page6(grade) {
            this.page1show = false;
            this.page2show = false;
            this.page3show = false;
            this.page4show = false;
            this.page5show = false;
            this.page6show = true;
            this.time = 10;
            this.point += grade;
            console.log(this.point);
          },
          show_Page7(grade) {
            this.page1show = false;
            this.page2show = false;
            this.page3show = false;
            this.page4show = false;
            this.page5show = false;
            this.page6show = true;
            this.time = 10;
            this.point += grade;
            console.log(this.point);
            if (this.point == 100) {
              window.location.href = "game_page_pass.html";
            } else {
              let total = this.point;
              console.log(total);
              sessionStorage.setItem("total", JSON.stringify(total));
              // console.log(JSON.parse("total");
              window.location.href = "game_page_defeat.html";
            }
          },
          countdown() {
            setInterval(function() {
              test_block.time--;
              if (test_block.time == 0) {
                window.location.href = "game_page_defeat.html";
                // clearInterval(this.timer);
              }
            }, 1000);
          },
          beforeDestroy() {
            clearInterval(this.timer);
          },
        },
        // mounted() {
        //   this.timer = setInterval(this.countdown, 1000);
        // },
        //監聽倒數完畢
        // watch: {
        //   time: function(newValue, oldValue) {
        //     if(newValue=='0'){
        //       for(let i=1;i<=6;i++){
        //         this.page+[i]+show="true";
        //       }

        //     }
        //   },
        // },
      });

      //==番茄鐘計時功能==

      // //==計時函數引入==
      // function getTimeRemaining(endtime) {
      //   var t = Date.parse(endtime) - Date.now();
      //   var seconds = Math.floor((t / 1000) % 60);
      //   var minutes = Math.floor((t / 1000 / 60) % 60);
      //   var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
      //   var days = Math.floor(t / (1000 * 60 * 60 * 24));
      //   return {
      //     total: t,
      //     days: days,
      //     hours: hours,
      //     minutes: minutes,
      //     seconds: seconds,
      //   };
      // }
      // (this).find("img");

      //   let slideImgsCount = slideImgs.length;
      //   let currentIndex //==先初始化鬧鐘==
      // function initialClock(id, endtime) {
      //   var clock = document.getElementById(id);

      //   //==顯示剩餘時間==
      //   function updateClock() {
      //     var t = getTimeRemaining(endtime);
      //     clock.innerHTML = (t.seconds + "秒").slice(-2);

      //     if (t.total <= 0) {
      //       clearInterval(timeinterval);
      //       //要寫入切換頁面用vue!!!!
      //     }
      //   }
      //   updateClock();
      //   // 每秒自动更新
      //   var timeinterval = setInterval(updateClock, 1000);
      // }
      // //開始調用函數
      // //計時一分鐘
      // function setDeadline(seconds) {
      //   var deadline = seconds * 1000;
      //   return new Date(Date.parse(new Date()) + deadline);
      // }

      // var deadline = setDeadline(10);
      // initialClock("timer", deadline);
      // // ==倒數計時結束==

      //==Slider==
      $("#game_slideshow").each(function() {
        let slideImgs = $(this).find("img");

        let slideImgsCount = slideImgs.length;
        let currentIndex = 0;
        // .eq(n)第幾個元素，從 0 開始，0 代表第一個。以此類推。
        slideImgs.eq(currentIndex).fadeIn();

        setInterval(showSlider, 4000);

        function showSlider() {
          let nextIndex = (currentIndex + 1) % slideImgsCount;
          slideImgs.eq(currentIndex).fadeOut();
          slideImgs.eq(nextIndex).fadeIn();
          currentIndex = nextIndex;
        }
      });

      //     // ====以下為共用====
      //     // 控制HEADER裡的黃色NAV區塊
      // var menu = document.getElementsByClassName("menu")[0];
      // document.addEventListener("scroll", function () {
      //   menu.style.top = (0 - (scrollY)) + "px";
      // });

      // // 漢堡選單
      // $('.ham').on("click", function () {
      //   $('.jump_hamburger_block').fadeToggle();
      //   $('.ham_top').toggleClass('ham_top_move');
      //   $('.ham_middle').toggleClass('ham_middle_move')
      //   $('.ham_bottom').toggleClass('ham_bottom_move');
      // })

      //檢查會員登入

      // 回頁首
      $("#go_top").on("click", function(e) {
        e.preventDefault();
        $("html, body").animate(
          {
            scrollTop: 0,
          },
          750
        );
      });
    </script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>良耕野菜-客製蔬果箱</title>
  <link rel="icon" href="./images/logo-02.svg">
  <link rel="stylesheet" href="./css/style.css" />
  <link rel="icon" href="./images/logo-02.svg">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  <script src="./js/jquery-3.6.0.js"></script>
</head>

<body >
  <div id ="app">
    <header class="header">
      <!-- 手機板header -->
      <div class="fixed_top">
        <div class="fixed_top_logo">
          <a href="./index.html">
            <img src="./images/fixed_top_logo.svg" alt="top_logo">
          </a>
        </div>
        <div class="shop_car">
          <img src="./images/shopping_cart.svg" alt="shopping_cart" />
        </div>
        <div class="ham">
          <div class="ham_top"></div>
          <div class="ham_middle"></div>
          <div class="ham_bottom"></div>
        </div>
      </div>
      <!-- 手機板header結束 -->
      <div class="menu_fixed">
        <div class="icon">
          <div class="ham">
            <div class="ham_top"></div>
            <div class="ham_middle"></div>
            <div class="ham_bottom"></div>
          </div>
          <div class="login">
            <a href="#">
              <img src="./images/login_icon.svg" alt="login_icon" />
            </a>
          </div>
          <div class="shop_car">
            <img src="./images/shopping_cart.svg" alt="shopping_cart" />
          </div>
        </div>
      </div>
      <div class="menu">
        <div class="logo_img">
          <a href="./index.html">
            <img src="./images/logo.svg" alt="logo" />
          </a>
        </div>
        <div class="page_list">
          <a href="./event.html">農村體驗</a>
          <a href="./fruit_box.html">客製蔬果箱</a>
          <a href="./game.html">蔬果知識小遊戲</a>
          <a href="./aboutUs.html">關於我們</a>
          <a href="./q_a.html">問與答</a>
          <a href="./shopping_page.html">新鮮蔬果</a>
        </div>
      </div>
      <div class="title">
        <div class="title_btn">
          <button class="comm_us">
            聯絡我們 <img src="./images/cotact_us.svg" width="25px" alt="" />
          </button>
          <a class="buy_now" href="./shopping_page.html">
            立即買<img src="./images/buy_now.svg" width="25px" alt="" />
          </a>
        </div>
        <div class="title_pic">
          <img src="./images/fruit_box/box_banner.jpg" alt="box_pic" />
          <span class="bkc_black"></span>
          <h1>客製蔬果箱</h1>
        </div>
      </div>
     <!-- 漢堡彈窗 -->
     <div class="jump_hamburger_block">
      <div class="hamburger_logo">
        <a href="./index.html">
          <img src="./images/logo.svg" alt="logo">
        </a>
      </div>
      <div class="header_nav_block">
        <div class="nav_block_contact">
          <img src="./images/nav_block_pen.svg" >
          聯絡我們
        </div>
        <a class="nav_block_log" href="./login.html">
          <img src="./images/nav_block_log.svg">
          登入註冊
        </a>          
        <div class="nav_right_block">
          <div class="nav_active">
            <a href="./event.html">農村體驗</a>
            <a href="./event_info.html">預約去</a>
          </div>
          <div class="nav_buy_now">
            <a href="./shopping_page.html">立即買</a>
            <a href="./fruit_box.html">客製蔬果箱</a>
            <a href="./shopping_page.html">新鮮蔬果</a>
          </div>
          <div class="nav_knowledge">
            <a href="./game.html">蔬果知識小遊戲</a>
          </div>
        </div>
        <div class="nav_left_block">
          <div class="nav_about_us">
            <a href="./aboutUs.html">關於我們</a>
            <a href="./aboutUs.html">農場介紹</a>
            <a href="./product_introduction.html">生產介紹</a>
          </div>
          <div class="nav_QA">
            <a href="./q_a.html">問與答</a>
          </div>
        </div>
        <img src="./images/header_vegetable.svg" alt="vegetable" class="header_vegetable">
        <img src="./images/header_lemon.svg" alt="vegetable" class="header_lemon">
        <img src="./images/header_kiwi.svg" alt="vegetable" class="header_kiwi">
      </div>
    </div>
    <!-- 漢堡彈窗結束 -->

      <!-- 聯絡我們彈窗 -->
      <div class="index_contact_box">
        <div class="black_block"></div>
        <div class="cotanct_block">
          <div class="contact_block_head">
            <button class="contact_block_Xmark"></button>
          </div>
          <h2>聯絡我們</h2>
          <div class="contact_search_bar">
            <input type="text" id="order_search" placeholder="請輸入訂單編號">
            <button class="search_icon">
              <img src="./images/header_search_icon.svg" alt="search">
            </button>
          </div>
          <h3>若有其他問題可以點擊下方按鈕寄信</h3>
          <div class="mailto_block">
            <a class="contact_mailto" href="mailto:goodvegetablebox@gmail.com">寄送問題</a>
          </div>
        </div>
      </div>
      <!-- 聯絡我們彈窗結束 -->

      <!-- 購物車彈窗  -->
      <div class="header_shopping_cart">
        <button class="cart_close">
          <img src="./images/checkout/X_mark.svg" />
        </button>
        <div class="incart_car_block">
          <img src="./images/header_incart.svg" alt="" />
        </div>
        <div class="cart_buy_list">目前購物車空無一物</div>
        <div class="incart_total">
          總和
          <span>$0</span>
        </div>
        <div class="incart_checkout_block">
          <a class="incart_checkout_btn" href="./checkout.html">結帳去</a>
        </div>
      </div>
      <!-- 購物車彈窗結束  -->

    </header>

    <!-- 手機版標題 -->

    <div class="fruit_title">
      <h2>客製化蔬果箱</h2>
      <div class="under_line"></div>
    </div>
   


    <!-- 價位按鈕 -->
    
    <div class="box_price_butten">
      <button
        v-for="price in priceList"
        :key="`priceList-${price}`" 
        @click="change_fruits(price)"
      >
        $ {{ price }}
      </button>
    </div>
    

    <!-- 蔬果箱欄位 -->

    <div class="fruits_box_two">

      <!-- 移除選項 -->
      <div class="fruits_remove_menu">
        <div class="five_fruits">
        
          <div 
            class="fruit_1" 
            v-for="(goodbye, index) in delete_basket"
            :key="`remove-${index}`"
          >
            <button
              @click="green_remove(goodbye)"
            >
            ×
            </button>
            <img
              :src="goodbye.image"
              width="100%"
            >
            <!-- //{{goodbye}} -->
          </div>
        
        </div>
      </div>

      <!-- 蔬菜箱 -->

      <div class="fruits_basket">
        <!-- 木箱 -->
        <img src="./images/fruit_box/399/down/399_box.png" id="example">
        <!-- <img src="./images/fruit_box/box_1.png" id="wooden">
        <img src="./images/fruit_box/box.png" id="wooden_box"> -->
        <!-- 青菜蔬果放置 -->
        <!-- <399> -->
        <div class="399">
          <!-- <img src="./images/fruit_box/399/down/avocado_d.png" id="avocado" class="textHover" 
          data-text="酪梨 2顆(約300g)">
          <img src="./images/fruit_box/399/down/carrot_d.png" id="carrot"class="textHover"
          data-text="紅蘿蔔 1包(約300g)">
          <img src="./images/fruit_box/399/down/orange_d.png" id="orange" class="textHover"
          data-text="橘子 2顆(約300g)">
          <img src="./images/fruit_box/399/down/pepper_d.png" id="pepper" class="textHover"
          data-text="青椒 2顆(約300g)"> -->
          <!-- <img src="./images/fruit_box/399/down/spinach_d.png" id="spinach"> -->
          <!-- <img src="./images/fruit_box/399/down/tomato_d.png" id="tomato" class="textHover"
          data-text="番茄 2顆(約300g)"> -->
          <!-- <img src="./images/fruit_box/399/down/salad_d.png" id="salad"> -->
          <!-- <img src="./images/fruit_box/399/down/strawberry_d.png" id="strawberry"> -->
        </div>
        
      </div>

      <!-- 刪除按鈕、確認 -->
        <div class="fruits_check_butten">
        <button class="box_check">
          <img src="./images/fruit_box/check.svg" width="25px">
        </button>
        <button class="box_delete">
          <img src="./images/fruit_box/delete.svg" width="25px">
        </button>
      </div>
    </div>

    <!-- 選擇蔬果第二大欄 -->
    <div class="select_fruits">

      <!-- 三種金額 -->

      <div class="butten_check_price">
        <button>
          $ {{ go_price }}
        </button>
      </div>

      <!-- 八樣青菜選擇五樣青菜 -->
      <div class="fruits_basket">
        <div class="fruits_first_row">
          <!-- 選擇內部 -->
            <div 
              v-for="(fruit, index) in box" 
              :key="`fruit_in_box-${index}`"
              class="box"
              @click="pull_basket(fruit.title)"
            >
              
              <img
                :src="fruit.image"
                :class="{
                  'togborder': isActive(fruit.title)
                }"
              >
              <p>{{fruit.title}}</p>
              <h5>
                <pre>{{fruit.unit}}</pre>
              </h5>
            </div>

            <div class="product_directions">
              <div 
                class="select"
                >
                  <h4> {{ weight}}</h4>
              </div>
            </div>
          
        </div>

      </div>

    </div>

    </div>


    <!-- 滿額贈 -->
    <div class="free_give">

      <div class="free_give_people">
        <div class="free_title">
          <h3>滿額贈</h3>
        </div>
        <div class="under_line"></div>

        <div class="free_all">
          <div class="garlic">
            <p>$399贈</p>
            <div class="garlic"><img src="./images/fruit_box/give/garlic.png"></div>
          </div>
          <div class="ginger">
            <p>$499贈</p>
            <div class="ginger"><img src="./images/fruit_box/give/ginger.png"></div>
          </div>
          <div class="leek">
            <p>$599贈</p>
            <div class="leek"><img src="./images/fruit_box/give/leek.png"></div>
          </div>
        </div>

      </div>
    </div>


    <!-- 蔬果箱推薦 -->
    <div class="free_give">
      <div class="free_give_people">
        <div class="free_title">
          <h3>蔬果箱推薦</h3>
        </div>
        <div class="under_line"></div>

        <!-- 下面三品蔬果箱 -->
        <div class="fruit_box_board">

          <div class="fruit_box_1">
            <div class="_mask"></div>
            <img src="./images/fruit_box/fruit_box.jpg" alt="商品圖片" />
            <p class="product_name"><i class="bi bi-cart4">&nbsp</i>防疫蔬果箱</p>
          </div>

          <div class="fruit_box_2">
            <div class="_mask"></div>
            <p class="product_name"><i class="bi bi-cart4">&nbsp</i>快樂蔬果箱</p>
            <img src="./images/fruit_box/fruit_box.jpg" alt="商品圖片" />
          </div>
          <div class="fruit_box_3">
            <div class="_mask"></div>
            <p class="product_name"><i class="bi bi-cart4">&nbsp</i>營養蔬果箱</p>
            <img src="./images/fruit_box/fruit_box.jpg" alt="商品圖片" />
          </div>
        </div>
      </div>
    </div>


    <!-- 插圖&背景 -->
    <div class="bg_fruit_box">
      <img class="ufo_ushi" src="./images/fruit_box/ufo_ushi.png" alt="ufo_ushi" />
      <img class="bg_img2" src="./images/index/07_02.svg" alt="">
    </div>


    <footer class="footer_bg">
      <div class="footer">
        <button class="go_top" id="go_top">
          <img src="./images/top.svg" alt="top">
        </button>
        <div class="footer_logo">
          <a href="#">
            <img src="./images/logo.svg" alt="logo" />
          </a>
        </div>
        <div class="footer_center">
          <h4>電話:02-26938800</h4>

          <h5>營業時間: 星期二至星期日(10:00 - 17:00)</h5>
          <h5>※農曆過年假期本農場也公休
            網路接單為24小時</h5>
          <h5>※當日訂單最晚收到17:00</h5>
          <h5>(17:00後下單視為隔日下單)</h5>
          <button class="mail_btn">
            <img src="./images/mail.svg" alt="mail">MAIL
          </button>
          <div class="footer_icon">
            <img src="./images/icon-fb.svg" alt="fb">
            <img src="./images/icon-line.svg" alt="line">
            <img src="./images/icon-ig.svg" alt="ig">
          </div>
        </div>
        <div class="footer_right">
          <div class="right_main">
            <a href="#">首頁</a>
            <a href="#">農村體驗</a>
            <a href="#">蔬果知識小遊戲</a>
            <a href="#">關於我們</a>
            <a href="#">問與答</a>
          </div>
          <div class="right_buy">
            <a href="#">客製蔬果箱</a>
            <a href="#">蔬菜</a>
            <a href="#">水果</a>
          </div>
        </div>
      </div>

    </footer>

    
    <script>

      new Vue({
        el: '#app',
        data: {
          box: [],
          priceList: [399,499,599],
          weight: "2-2.5kg 請選擇五樣",
          go_price: 399,
          basket: [],  
        },
        computed: {
          isActive () {
            return (title) => {
              return this.basket.includes(title)
            }
          },
          delete_basket() {
            let result = []
            this.box.forEach(item => {
              this.basket.forEach(title => {
                if (item.title === title) {
                  result.push(item)
                }
              })
            });
            return result
          }

        },
        methods: {
          checkTitle(theTitle) {
            return theTitle;
          },
          async change_fruits (price) {
            this.go_price = price
            switch (price) {
              case 399:
                data = './sass/page/_fruitBoxData_399.json'
                break;
              case 499:
                data = './sass/page/_fruitBoxData_499.json'
                break;
              case 599:
                data = './sass/page/_fruitBoxData_599.json'
                break;
            }
            await $.getJSON(data)
              .done(res => {
                this.box = res
              });
          },
          pull_basket (title) {
            if (this.basket.length !== 5) {
              const pick = this.box.find(item=>item.title === title)
              this.basket.push(pick.title)
            } else {
              alert('不能超過五個')
            }

          },

          //移除用filter塞選來做
          green_remove (goodbye) {
            this.basket = this.basket.filter((fruit) => fruit !== goodbye.title);
          }
          
        },
        mounted() {
          //jQuery
          this.change_fruits(this.go_price) //最後初始化樣子
        },
      });

    
      //往上css
      $("#go_top").on("click", function (e) {
      e.preventDefault();
      $('html, body').animate({
        scrollTop: 0
      }, 750);
    });

      
    </script>
    <script src="./js/header.js"></script>
  </div>
</body>

</html>